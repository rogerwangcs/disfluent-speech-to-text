python prepare_files.py

cd data/local/lang
wget http://svn.code.sf.net/p/cmusphinx/code/trunk/cmudict/sphinxdict/cmudict_SPHINX_40
mv cmudict_SPHINX_40 lexicon.txt
tr -d $'\r' < lexicon.txt > lexicon_NEW.txt
mv lexicon_NEW.txt lexicon.txt
cut -d ' ' -f 2- lexicon.txt | \sed 's/ /\n/g' | \sort -u > nonsilence_phones.txt
sed -i 's/\t/\n/g' nonsilence_phones.txt
sort -u nonsilence_phones.txt > nonsilence_phones_NEW.txt
mv nonsilence_phones_NEW.txt nonsilence_phones.txt
echo -e 'SIL\noov' > silence_phones.txt
echo 'SIL' > optional_silence.txt

cd ../../..
rm data/local/lang/lexiconp.txt
utils/prepare_lang.sh data/local/lang 'oov' data/local/ data/lang

export train_cmd=run.pl
export decode_cmd="run.pl --mem 4G"
export mkgraph_cmd="run.pl --mem 8G"
export cuda_cmd="run.pl --gpu 1"

mfccdir=mfcc
x=data/train
steps/make_mfcc.sh --cmd "$train_cmd" --nj 16 $x exp/make_mfcc/$x $mfccdir
